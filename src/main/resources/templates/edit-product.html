<!DOCTYPE html>
<html lang="en">
<jsp:include page="templates/head.jsp" />

<body>
	<div class="site-wrap">
		<jsp:include page="templates/header.jsp" />

		<div class="bg-light py-3">
			<div class="container">
				<div class="row">
					<div class="col-md-12 mb-0">
						<a href="/">Home</a> <span class="mx-2 mb-0">/</span> <strong
							class="text-black">Editar producto</strong>
					</div>
				</div>
			</div>
		</div>

		<div class="site-section">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<h2 class="h3 mb-3 text-black">Informaci√≥n del Producto</h2>
					</div>

					<div class="col-md-7">
						<form action="actProd" method="post">
							<div class="p-3 border">
								<div class="form-group row">
									<div class="col-md-12">
										<label for="id" class="text-black"> Producto ID <span
											class="text-danger">*</span>
										</label> <input name="txtcodigo" type="text" class="form-control"
											id="id" value="${p.codigo}" readonly>
									</div>
								</div>


								<div class="form-group row">
									<div class="col-md-12">
										<label for="image" class="text-black"> Imagen <span
											class="text-danger">*</span>
										</label> <input name="product-image" type="file" class="form-control"
											id="image">
									</div>
								</div>

								<div class="form-group row">
									<div class="col-md-12">
										<label for="price" class="text-black"> Precio <span
											class="text-danger">*</span>
										</label> <input name="txtprecio" placeholder="0.00" step="0.01"
											class="form-control" id="price" value="${p.precio}">
									</div>
								</div>

								<div class="form-group row">
									<div class="col-md-12">
										<label for="description" class="text-black">
											Descripcion <span class="text-danger">*</span>
										</label>

										<textarea name="txtdescripcion" id="description" cols="30"
											rows="7" class="form-control">${p.descripcion}</textarea>
									</div>
								</div>

								<div class="form-group row">
									<div class="col-md-12">
										<label for="price" class="text-black"> Stock <span
											class="text-danger">*</span>
										</label> <input name="txtstock"
											class="form-control" id="price" value="${p.stock}">
									</div>
								</div>

								<div class="form-group row">
									<div class="col-md-12">
										<%
										//obtener un listado de categorias
										List<Categoria> lstCategorias = new GestionCategoria().listado();
										//enviar listado como atributo
										request.setAttribute("lstCategorias", lstCategorias);
										%>
										<label for="category" class="text-black"> Categoria <span
											class="text-danger">*</span>
										</label> <select name="cboCategoria" id="category"
											class="form-control">

											<c:forEach items="${lstCategorias}" var="c">
												<c:if test="${p.idcategoria == c.idcategoria }">
													<option selected value="${c.idcategoria }">${c.descripcion }</option>

												</c:if>
												<c:if test="${p.idcategoria != c.idcategoria }">
													<option value="${c.idcategoria }">${c.descripcion }</option>

												</c:if>
											</c:forEach>
										</select>
									</div>
								</div>
								<div class="form-group row">
									<div class="col-md-12">
										<label for="product-category" class="text-black">
											Estado <span class="text-danger">*</span>
										</label>

										<%
										//obtener un listado de categorias
										List<Estado> lstEstados = new GestionEstado().listado();
										//enviar listado como atributo
										request.setAttribute("lstEstados", lstEstados);
										%>
										<select name="cboEstado" id="product-category"
											class="form-control">
								
											<c:forEach items="${lstEstados}" var="e">
												<c:if test="${p.idestado == e.idestado }">
													<option selected value="${e.idestado }">${e.descripcion }</option>

												</c:if>
												<c:if test="${p.idestado != e.idestado}">
													<option value="${e.idestado }">${e.descripcion }</option>

												</c:if>
											</c:forEach>
										</select>
									</div>
								</div>

								<div class="form-group row">
									<div class="col-lg-12">
										<input type="submit" class="btn btn-primary btn-lg btn-block"
											value="Edit product">
									</div>
								</div>
							</div>
						</form>
					</div>

					<div class="col-md-5 ml-auto">
						<div class="p-3 border">
							<img alt="image" src="static/images/productos/${p.codigo}.png"
								width="100%">
						</div>
					</div>
				</div>
			</div>
		</div>

		<jsp:include page="templates/footer.jsp" />
	</div>

	<jsp:include page="templates/scripts.jsp" />
</body>
</html>