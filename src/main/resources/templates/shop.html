<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<div th:replace="fragments/head :: head"></div>

<body>
	<div class="site-wrap">
		<div th:replace="fragments/header :: header"></div>

		<div class="bg-light py-3">
			<div class="container">
				<div class="row">
					<div class="col-md-12 mb-0">
						<a href="">Home</a> <span class="mx-2 mb-0">/</span> <strong
							class="text-black">Productos</strong>
					</div>
				</div>
			</div>
		</div>

		<div class="site-section" style="width: 100%;">
			<div class="container">

				<div class="row mb-5" style="width: 100%;">
					<div class="col-md-9 order-2">

						<div class="row">
							<div class="col-md-12 mb-5">
								<div class="float-md-left mb-4">
									<h2 class="text-black h5">Todos los productos</h2>
								</div>
								<div class="d-flex"></div>
							</div>
						</div>
						<div class="row mb-5" style="width: 100%;">


							<div class="row">
								<div class="card" style="width: 12rem; margin: 5px"
									th:each="p : ${lstProductos}">
									<img th:src="@{/images/productos/}+${p.idprod}+@{.png}"
										th:alt="${'Producto '}+${p.idprod}" width="100px"
										height="200px" class="card-img-top" style="padding: 5px">
									<div class="card-body">
										<h5 th:text="${p.descripcion}" class="card-title">###</h5>
										<p th:text="${p.stock}+' Unidades'" class="card-text">###</p>
										<p
											th:text="${'S/'}+${#numbers.formatDecimal(p.precio, 1, 'COMMA', 2, 'POINT' )}"
											class="card-text" style="color: red; font-weight: bold;">###</p>
										<a th:href="@{/detail/{id}(id=${p.idprod})}"
											class="btn btn-outline-primary">Agregar </a>
									</div>
								</div>
							</div>


						</div>

					</div>

					<div class="col-md-3 order-1 mb-4 mb-md-0 w-100"
						style="width: 100%;">
						<div>
							<h3>Filtros</h3>
							<div style="width: auto;">

								<ul style="list-style-type: disc; padding-left: 20px;">
									<!-- Usa disc para puntos -->
									<li><a href="/precio/fijo/100">Hasta S/. 100.00</a></li>
									<li><a href="/precio/fijo/1000">Hasta S/. 1000.00</a></li>
								</ul>


							</div>
							<form action="/products/filter/price/between" method="post"
								style="display: flex; gap: 10px;">
								<input type="number" id="minPrice" name="minPrice" step="0.01"
									placeholder="mínimo" min="1"
									style="width: 80px; padding: 5px; font-size: 14px; border-radius: 5px">
								<input type="number" id="maxPrice" name="maxPrice" step="0.01"
									placeholder="máximo" required
									style="width: 80px; padding: 5px; font-size: 14px; border-radius: 5px">

								<button type="submit"
									style="padding: 5px 10px; font-size: 15px; border-radius: 50%; background-color: lightblue; color: white;">&gt;</button>
							</form>
						</div>

						<div>
							<h3>Categorías</h3>


							<div style="width: auto;">
								<ul style="list-style-type: disc; padding-left: 20px;">
									<!-- Usa disc para puntos -->
									<li th:each="c : ${lstCategorias}"><a
										th:text="${c.descripcion}"
										th:href="@{/filtro/{id}(id=${c.id})}"
										style="text-decoration: underline;">${c.descripcion}</a></li>
								</ul>
							</div>
						</div>




						<form action="/reportes/catalogo/filtro" target="_blank"
							method="post" style="width: 100%">
							<h2>Reportes</h2>

							<div class="col-md-4">
								<select id="inputState" class="form-select" name="id">
									<option selected value="0">Seleccione...</option>
									<option th:each="c : ${lstCategorias} " th:value="${c.id}"
										th:text="${c.descripcion}"></option>
								</select>
							</div>


							<div class="row" style="margin-bottom: 10px">
								<div class="col-12 mt-4">

									<div class="col-12">

										<button type="submit" class="btn btn-primary">Filtrar</button>

									</div>
								</div>
							</div>

						</form>
						<div>

							<a type="button" href="/reportes/catalogo" target="blank"
								class="btn btn-primary" style="margin-left: 15px"> Catalogo
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div th:replace="fragments/footer :: footer"></div>

	<script src="/js/jquery-3.3.1.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/jquery.magnific-popup.min.js"></script>
	<script src="/js/jquery-ui.js"></script>
	<script src="/js/owl.carousel.min.js"></script>
	<script src="/js/aos.js"></script>
	<script src="/js/main.js"></script>
</body>
</html>