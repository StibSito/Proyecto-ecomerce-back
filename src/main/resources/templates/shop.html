<!DOCTYPE html>
<html lang="en">
<jsp:include page="templates/head.jsp" />

<body>
	<div class="site-wrap">
		<jsp:include page="templates/header.jsp" />

		<div class="bg-light py-3">
			<div class="container">
				<div class="row">
					<div class="col-md-12 mb-0">
						<a href="">Home</a> <span class="mx-2 mb-0">/</span> <strong
							class="text-black">Productos</strong>
					</div>
				</div>
			</div>
		</div>

		<div class="site-section">
			<div class="container">

				<div class="row mb-5">
					<div class="col-md-9 order-2">

						<div class="row">
							<div class="col-md-12 mb-5">
								<div class="float-md-left mb-4">
									<h2 class="text-black h5">Todos los productos</h2>
								</div>
								<div class="d-flex"></div>
							</div>
						</div>
						<div class="row mb-5">
							<c:forEach items="${lstProductos}" var="p">
								<div class="col-sm-6 col-lg-4 mb-4" data-aos="fade-up">
									<div class="block-4 text-center border" style="height: 100%">
										<figure class="block-4-image">

											<img src="static/images/productos/${p.codigo}.png"
												alt="Image placeholder" class="img-fluid"
												style="height: 100%">

										</figure>
										<div class="block-4-text p-4">
											<h3>${p.descripcion}</h3>
											<p class="mb-0">S/${p.precio}</p>
											<a class="btn btn-outline-danger " href="detailProd?q=${p.codigo}">Agregar</a>
										</div>
									</div>
								</div>
							</c:forEach>
						</div>
						<div class="row" data-aos="fade-up">
							<div class="col-md-12 text-center">
								<div class="site-block-27">
									<ul>
										<c:if test="${page_active > 1}">
											<li><a href="shop?index=${page_active - 1}">&lt;</a></li>
										</c:if>

										<c:forEach begin="1" end="${total_pages}" var="i">
											<li class="${(page_active == i) ? "active" : " "}"><a
												href="shop?index=${i}">${i}</a></li>
										</c:forEach>

										<c:if test="${page_active < total_pages}">
											<li><a href="shop?index=${page_active + 1}">&gt;</a></li>
										</c:if>
									</ul>
								</div>
							</div>
						</div>
					</div>

					<div class="col-md-3 order-1 mb-5 mb-md-0 w-100" style="width: 100%;">

						<h3 class="mb-3 h6 text-uppercase text-black d-block">Categorías</h3>
						<form action="filtro" method="post" style="width: 300px">
							<%
							//obtener un listado de categorias
							List<Categoria> lstCategorias = new GestionCategoria().listado();
							//enviar listado como atributo
							request.setAttribute("lstCategorias", lstCategorias);
							%>

							<%--Combo  o lista de opciones  --%>
							<div class="col-md-4">
								<select id="inputState" class="form-select" name="cboCategoria">
									<option selected value="0">Seleccione...</option>
									<c:forEach items="${lstCategorias}" var="c">

										<option value="${c.idcategoria}">${c.descripcion}</option>
									</c:forEach>
								</select>
							</div>


							<%-- lista con checkbox :
		
					<c:forEach items="${lstCategorias}" var="c">
						<div class="form-check">
							<input class="form-check-input" type="checkbox"
								value="${c.idcategoria}" id="flexCheckDefault"> <label
								class="form-check-label" for="flexCheckDefault">
								${c.descripcion} </label>

						</div>
					</c:forEach>
					
					 --%>


							<%--boton del formulario --%>
							<div class="row">
								<div class="col-12 mt-4">
									<!-- Añade la clase 'mt-4' para dar margen en la parte superior -->
									<div class="col-12">
										<!-- Usa 'col-12' para ocupar todo el ancho en dispositivos pequeños -->
										<button type="submit" class="btn btn-primary">Aplicar</button>
									</div>
								</div>
							</div>
							<div class="col-md-3 order-1 mb-5 mb-md-0" style="width: 100%">
							<%--cateogrias listadas con ancords --%>
							<c:forEach items="${lstCategorias }"  var="c">
								<a style="text-decoration: underline;width: 100%" href="filtro?categoria=${c.idcategoria}">${c.descripcion }</a>
							</c:forEach>
							</div>

						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<jsp:include page="templates/footer.jsp" />

	<jsp:include page="templates/scripts.jsp" />
</body>
</html>